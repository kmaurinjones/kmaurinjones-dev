# Deployment Guide - kmaurinjones.dev

## Overview
This SvelteKit application is deployed as a static site on Raspberry Pi 5 at **kmaurinjones.dev**.

## Architecture
- **Repository**: `/home/kmaurinjones/projects/kmaurinjones-dev`
- **Production files**: `/home/kmaurinjones/projects/sites/kmaurinjones-dev`
- **Web server**: nginx (static file serving)
- **Build output**: `build/` directory (generated by SvelteKit with adapter-static)

## Deployment

### Automated Deployment
Run the deployment script:
```bash
cd /home/kmaurinjones/projects/kmaurinjones-dev
./deploy.sh
```

### Manual Deployment
```bash
cd /home/kmaurinjones/projects/kmaurinjones-dev
git pull
npm install
uv sync
npm run build
cp -r build/* /home/kmaurinjones/projects/sites/kmaurinjones-dev/
chmod -R o+rX /home/kmaurinjones/projects/sites/kmaurinjones-dev
```

## Nginx Configuration
Located at: `/etc/nginx/sites-available/kmaurinjones-dev`

To reload nginx after config changes:
```bash
sudo nginx -t
sudo systemctl reload nginx
```

## Development
For local development (on MacBook):
```bash
npm install
npm run dev
```
Then visit http://localhost:5173

## Syncing Medium Articles
The site includes a Python script to sync Medium articles:
```bash
cd /home/kmaurinjones/projects/kmaurinjones-dev
source .venv/bin/activate
python scripts/sync-medium-articles.py
```

This will parse HTML files from the `completed-articles/` directory and generate Svelte pages.

## DNS Configuration
Ensure DNS is configured to point:
- `kmaurinjones.dev` → Pi IP address
- `www.kmaurinjones.dev` → Pi IP address

## Notes
- No server-side rendering (SSR) - fully static site
- All routes are prerendered at build time
- External links in articles are ignored during prerendering

